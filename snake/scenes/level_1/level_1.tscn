[gd_scene load_steps=9 format=4 uid="uid://cs3vwhjl6w3l3"]

[ext_resource type="Script" uid="uid://d38dj5lexsngu" path="res://scenes/level_1/level_1.gd" id="1_janvk"]
[ext_resource type="Texture2D" uid="uid://der2aabcpt52n" path="res://assets/sprites/static_tiles.png" id="1_uwrxv"]
[ext_resource type="PackedScene" uid="uid://iocv5fo1fth5" path="res://scenes/player/player.tscn" id="2_igcjm"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_janvk"]
texture = ExtResource("1_uwrxv")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0

[sub_resource type="TileSet" id="TileSet_8cj0n"]
sources/1 = SubResource("TileSetAtlasSource_janvk")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_xqidk"]
texture = ExtResource("1_uwrxv")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)

[sub_resource type="TileSet" id="TileSet_7e5lm"]
physics_layer_0/collision_layer = 2
physics_layer_0/collision_mask = 2
sources/1 = SubResource("TileSetAtlasSource_xqidk")

[sub_resource type="GDScript" id="GDScript_janvk"]
script/source = "class_name WallTileLayer
extends TileMapLayer


func _ready() -> void:
	\"\"\"var used_cells: Array[Vector2i] = self.get_used_cells()
	for cell: Vector2i in used_cells:

		var world_pos: Vector2 = map_to_local(cell)
		var area: Area2D = Area2D.new()
		self.add_child(area)

		area.position = world_pos

		var collision_shape: CollisionShape2D  = CollisionShape2D.new()
		area.add_child(collision_shape)
		area.set_collision_layer_value(Constants.COLLISION_LAYER_PLAYER, true)
		area.set_collision_mask_value(Constants.COLLISION_MASK_PLAYER, true)  
		area.add_to_group(Constants.COLLISION_WALL)
		
		var rect_shape: RectangleShape2D = RectangleShape2D.new()
		rect_shape.extents = Vector2(tile_set.tile_size.x / 2.0, tile_set.tile_size.y / 2.0)
		collision_shape.shape = rect_shape\"\"\"
	pass
"

[node name="Level1" type="Node2D"]
script = ExtResource("1_janvk")

[node name="Floor" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAQAAoAAQAAAAAAAAAFAAMAAQABAAAAAAABAAEAAQAAAAAAAAARABMAAQAAAAAAAAAQABMAAQAAAAAAAAAPABMAAQAAAAAAAAAOABMAAQAAAAAAAAANABMAAQAAAAAAAAAMABMAAQAAAAAAAAALABMAAQAAAAAAAAAKABMAAQAAAAAAAAAJABMAAQAAAAAAAAAIABMAAQAAAAAAAAAHABMAAQAAAAAAAAAGABMAAQAAAAAAAAAFABMAAQAAAAAAAAAEABMAAQAAAAAAAAADABMAAQAAAAAAAAACABMAAQAAAAAAAAABABMAAQAAAAAAAAAAABMAAQAAAAAAAAARABIAAQAAAAAAAAARABEAAQAAAAAAAAARABAAAQAAAAAAAAAQABAAAQAAAAAAAAAQAA8AAQAAAAAAAAAQAA4AAQAAAAAAAAAQAA0AAQAAAAAAAAAQAAwAAQAAAAAAAAAQAAsAAQAAAAAAAAAQAAkAAQAAAAAAAAARAAoAAQAAAAAAAAARAAsAAQAAAAAAAAARAAwAAQAAAAAAAAARAA0AAQAAAAAAAAARAA4AAQAAAAAAAAARAA8AAQAAAAAAAAARAAkAAQAAAAAAAAARAAgAAQAAAAAAAAARAAcAAQAAAAAAAAARAAYAAQAAAAAAAAAQAAYAAQAAAAAAAAAQAAUAAQAAAAAAAAAQAAQAAQAAAAAAAAAQAAMAAQAAAAAAAAAQAAIAAQAAAAAAAAAQAAEAAQAAAAAAAAARAAUAAQAAAAAAAAARAAQAAQAAAAAAAAARAAMAAQAAAAAAAAARAAIAAQAAAAAAAAARAAEAAQAAAAAAAAARAAAAAQAAAAAAAAAQAAAAAQAAAAAAAAAPAAAAAQAAAAAAAAAOAAAAAQAAAAAAAAANAAAAAQAAAAAAAAAMAAAAAQAAAAAAAAALAAAAAQAAAAAAAAAKAAAAAQAAAAAAAAAJAAAAAQAAAAAAAAAIAAAAAQAAAAAAAAAHAAAAAQAAAAAAAAAGAAAAAQAAAAAAAAAFAAAAAQAAAAAAAAAEAAAAAQAAAAAAAAADAAAAAQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAAIAAQAAAAAAAAAAAAMAAQAAAAAAAAAAAAQAAQAAAAAAAAAAAAUAAQAAAAAAAAAAAAYAAQAAAAAAAAAAAAcAAQAAAAAAAAABAAcAAQAAAAAAAAABAAgAAQAAAAAAAAABAAkAAQAAAAAAAAABAAoAAQAAAAAAAAABAAsAAQAAAAAAAAAAAAsAAQAAAAAAAAAAAAwAAQAAAAAAAAAAAAgAAQAAAAAAAAAAAAkAAQAAAAAAAAAAAAoAAQAAAAAAAAAAAA0AAQAAAAAAAAAAAA4AAQAAAAAAAAAAAA8AAQAAAAAAAAAAABAAAQAAAAAAAAAAABEAAQAAAAAAAAAAABIAAQAAAAAAAAABABIAAQAAAAAAAAACABIAAQAAAAAAAAADABIAAQAAAAAAAAAEABIAAQAAAAAAAAAFABIAAQAAAAAAAAAGABIAAQAAAAAAAAAHABIAAQAAAAAAAAAIABIAAQAAAAAAAAAJABIAAQAAAAAAAAAKABIAAQAAAAAAAAALABIAAQAAAAAAAAAMABIAAQAAAAAAAAANABIAAQAAAAAAAAAOABIAAQAAAAAAAAAPABIAAQABAAAAAAAQABIAAQAAAAAAAAAQABEAAQAAAAAAAAAPABAAAQAAAAAAAAAPABEAAQABAAAAAAAOABEAAQAAAAAAAAANABEAAQAAAAAAAAAMABEAAQAAAAAAAAALABEAAQAAAAAAAAAKABEAAQAAAAAAAAAJABEAAQABAAAAAAAIABEAAQABAAAAAAAHABEAAQAAAAAAAAAGABEAAQAAAAAAAAAFABEAAQAAAAAAAAAEABEAAQAAAAAAAAADABEAAQAAAAAAAAACABEAAQAAAAAAAAABABEAAQAAAAAAAAABABAAAQAAAAAAAAABAA8AAQAAAAAAAAABAA4AAQAAAAAAAAABAA0AAQAAAAAAAAABAAwAAQAAAAAAAAACAA8AAQAAAAAAAAACABAAAQAAAAAAAAACAA4AAQAAAAAAAAACAA0AAQAAAAAAAAACAAwAAQAAAAAAAAABAAYAAQAAAAAAAAABAAUAAQAAAAAAAAACAAoAAQAAAAAAAAACAAkAAQAAAAAAAAACAAgAAQAAAAAAAAACAAcAAQAAAAAAAAACAAYAAQAAAAAAAAACAAUAAQAAAAAAAAABAAQAAQAAAAAAAAABAAMAAQAAAAAAAAABAAIAAQAAAAAAAAACAAEAAQAAAAAAAAACAAIAAQAAAAAAAAACAAMAAQAAAAAAAAACAAQAAQAAAAAAAAAPAAEAAQAAAAAAAAAOAAEAAQAAAAAAAAANAAEAAQAAAAAAAAAMAAEAAQAAAAAAAAALAAEAAQAAAAAAAAAKAAEAAQAAAAAAAAAJAAEAAQAAAAAAAAAIAAEAAQAAAAAAAAAHAAEAAQAAAAAAAAAGAAEAAQAAAAAAAAAFAAEAAQAAAAAAAAAEAAEAAQAAAAAAAAADAAEAAQAAAAAAAAADAAIAAQAAAAAAAAAEAAIAAQABAAAAAAAFAAIAAQABAAAAAAAGAAIAAQAAAAAAAAAHAAIAAQAAAAAAAAAIAAIAAQAAAAAAAAAJAAIAAQAAAAAAAAAKAAIAAQAAAAAAAAALAAIAAQAAAAAAAAAMAAIAAQAAAAAAAAANAAIAAQAAAAAAAAAOAAIAAQAAAAAAAAAPAAIAAQAAAAAAAAAOAAMAAQAAAAAAAAANAAMAAQABAAAAAAAMAAMAAQABAAAAAAALAAMAAQAAAAAAAAAKAAMAAQAAAAAAAAAJAAMAAQAAAAAAAAAIAAMAAQAAAAAAAAAHAAMAAQABAAAAAAAGAAMAAQABAAAAAAAEAAMAAQAAAAAAAAADAAMAAQAAAAAAAAAPAAMAAQAAAAAAAAAPAAUAAQAAAAAAAAAPAAYAAQAAAAAAAAAPAAcAAQABAAAAAAAPAAgAAQAAAAAAAAAQAAgAAQAAAAAAAAAPAAoAAQAAAAAAAAAPAAkAAQAAAAAAAAAQAAcAAQAAAAAAAAAPAAQAAQAAAAAAAAAPAAsAAQAAAAAAAAAPAAwAAQAAAAAAAAAPAA0AAQAAAAAAAAAPAA4AAQAAAAAAAAAPAA8AAQAAAAAAAAAOABAAAQAAAAAAAAANABAAAQAAAAAAAAAMABAAAQAAAAAAAAALABAAAQAAAAAAAAAKABAAAQAAAAAAAAAJABAAAQAAAAAAAAAIABAAAQABAAAAAAAHABAAAQAAAAAAAAAFABAAAQAAAAAAAAAEABAAAQAAAAAAAAADAA8AAQAAAAAAAAADABAAAQAAAAAAAAADAA4AAQAAAAAAAAADAAUAAQABAAAAAAADAAYAAQAAAAAAAAADAAcAAQAAAAAAAAADAAwAAQAAAAAAAAADAAsAAQAAAAAAAAADAAQAAQAAAAAAAAAEAAcAAQAAAAAAAAAEAAgAAQAAAAAAAAAEAAkAAQABAAAAAAAEAAoAAQAAAAAAAAAEAAsAAQAAAAAAAAAEAAwAAQABAAAAAAADAA0AAQAAAAAAAAADAAoAAQAAAAAAAAADAAkAAQAAAAAAAAADAAgAAQAAAAAAAAAEAAUAAQABAAAAAAAEAAQAAQAAAAAAAAAFAAYAAQAAAAAAAAAFAAcAAQAAAAAAAAAFAAgAAQAAAAAAAAAFAAkAAQABAAAAAAAFAAoAAQAAAAAAAAAFAAsAAQAAAAAAAAAGAAsAAQAAAAAAAAAGAAwAAQAAAAAAAAAGAA0AAQABAAAAAAAFAA4AAQAAAAAAAAAFAA8AAQAAAAAAAAAEAA8AAQAAAAAAAAAEAA4AAQAAAAAAAAAEAA0AAQAAAAAAAAAFAA0AAQABAAAAAAAFAAwAAQABAAAAAAAEAAYAAQAAAAAAAAAFAAUAAQABAAAAAAAFAAQAAQAAAAAAAAAGAAUAAQAAAAAAAAAGAAYAAQABAAAAAAAGAAcAAQAAAAAAAAAGAAgAAQAAAAAAAAAGAAkAAQAAAAAAAAAGAAoAAQABAAAAAAAHAAwAAQAAAAAAAAAHAA0AAQAAAAAAAAAHAA4AAQAAAAAAAAAHAA8AAQAAAAAAAAAGAA8AAQAAAAAAAAAGAA4AAQAAAAAAAAAGAAQAAQAAAAAAAAAHAAUAAQAAAAAAAAAHAAYAAQAAAAAAAAAHAAcAAQAAAAAAAAAIAAcAAQAAAAAAAAAIAAgAAQAAAAAAAAAIAAkAAQAAAAAAAAAIAAoAAQAAAAAAAAAHAAoAAQAAAAAAAAAHAAsAAQAAAAAAAAAHAAgAAQAAAAAAAAAHAAkAAQAAAAAAAAAHAAQAAQAAAAAAAAAIAAQAAQAAAAAAAAAJAAQAAQAAAAAAAAAKAAQAAQAAAAAAAAALAAQAAQABAAAAAAAMAAQAAQABAAAAAAANAAQAAQAAAAAAAAAOAAQAAQAAAAAAAAAIAAUAAQAAAAAAAAAJAAUAAQAAAAAAAAAKAAUAAQABAAAAAAALAAUAAQABAAAAAAAMAAUAAQAAAAAAAAANAAUAAQAAAAAAAAAOAAUAAQAAAAAAAAANAAYAAQAAAAAAAAAMAAYAAQAAAAAAAAALAAYAAQAAAAAAAAAKAAYAAQAAAAAAAAAJAAYAAQAAAAAAAAAIAAYAAQAAAAAAAAAOAAYAAQAAAAAAAAAOAAcAAQABAAAAAAANAAcAAQAAAAAAAAAMAAcAAQAAAAAAAAALAAcAAQAAAAAAAAAKAAcAAQAAAAAAAAAJAAcAAQAAAAAAAAAJAAkAAQAAAAAAAAAJAAgAAQAAAAAAAAAKAAgAAQAAAAAAAAALAAgAAQAAAAAAAAAMAAgAAQAAAAAAAAANAAgAAQABAAAAAAAOAAgAAQABAAAAAAAOAAkAAQAAAAAAAAAOAAoAAQAAAAAAAAANAAoAAQAAAAAAAAANAAsAAQAAAAAAAAAMAAsAAQAAAAAAAAALAAsAAQABAAAAAAAKAAsAAQAAAAAAAAAJAAsAAQAAAAAAAAAIAAsAAQAAAAAAAAALAAkAAQAAAAAAAAAKAAkAAQAAAAAAAAAKAAoAAQAAAAAAAAAJAAoAAQAAAAAAAAAMAAkAAQAAAAAAAAANAAkAAQAAAAAAAAALAAoAAQAAAAAAAAAMAAoAAQAAAAAAAAAOAAsAAQAAAAAAAAAOAAwAAQAAAAAAAAAOAA0AAQAAAAAAAAANAA4AAQAAAAAAAAAMAA4AAQAAAAAAAAALAA4AAQABAAAAAAAKAA4AAQAAAAAAAAAJAA4AAQAAAAAAAAAIAA0AAQAAAAAAAAAIAAwAAQAAAAAAAAAJAAwAAQAAAAAAAAAKAAwAAQAAAAAAAAALAAwAAQABAAAAAAAJAA0AAQAAAAAAAAAKAA0AAQAAAAAAAAALAA0AAQABAAAAAAAMAAwAAQAAAAAAAAANAAwAAQAAAAAAAAANAA0AAQAAAAAAAAAMAA0AAQAAAAAAAAAIAA4AAQAAAAAAAAAOAA4AAQAAAAAAAAANAA8AAQAAAAAAAAAMAA8AAQABAAAAAAALAA8AAQAAAAAAAAAKAA8AAQAAAAAAAAAJAA8AAQAAAAAAAAAIAA8AAQAAAAAAAAAOAA8AAQAAAAAAAAACAAsAAQABAAAAAAAGABAAAQAAAAAAAAA=")
tile_set = SubResource("TileSet_8cj0n")
collision_enabled = false

[node name="Player" parent="." instance=ExtResource("2_igcjm")]
unique_name_in_owner = true
position = Vector2(152, 152)
length = 7

[node name="Wall" type="TileMapLayer" parent="." groups=["wall"]]
tile_map_data = PackedByteArray("AAAOAAwAAQACAAAAAAAOAA0AAQACAAAAAAAOAA4AAQACAAAAAAAGAA4AAQACAAAAAAAHAA4AAQACAAAAAAAIAA4AAQACAAAAAAA=")
tile_set = SubResource("TileSet_7e5lm")
script = SubResource("GDScript_janvk")

[connection signal="apple_eaten" from="Player" to="." method="_on_player_apple_eaten"]
[connection signal="snake_death" from="Player" to="." method="_on_player_snake_death"]
